% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/correct_offset.R
\name{correct_offset}
\alias{correct_offset}
\title{Correct Offset Discontinuities in Time Series Data}
\usage{
correct_offset(x, y)
}
\arguments{
\item{x}{Numeric vector of x-axis values (typically time points).}

\item{y}{Numeric vector of y-axis values corresponding to x.}
}
\value{
Numeric vector of corrected y values with offset discontinuities
removed. If no discontinuities are detected, returns the smoothed trend.
}
\description{
Detects and corrects for sudden jumps or offsets in time series
data by identifying outliers in slope changes and applying offset corrections
to realign displaced segments. The function uses robust smoothing and outlier
detection to identify discontinuities, then applies sequential corrections to
maintain trend continuity.
}
\details{
The function works by:
\enumerate{
\item Applying robust smoothing (3RS3R) to the input data
\item Calculating slopes and second differences to identify sudden changes
\item Using robust outlier detection to find discontinuity points
\item Applying offset corrections to realign displaced segments
}
}
\examples{
\dontrun{
# Create data with an artificial offset
x <- 1:100
y <- sin(x / 10) + c(rep(0, 50), rep(2, 50))  # Jump at point 50

# Correct the offset
y_corrected <- correct_offset(x, y)

# Plot comparison
plot(x, y, col = "red")
lines(x, y_corrected, col = "blue")
}
}
